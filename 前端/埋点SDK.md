---
tags: [业务设计]
intro: 埋点SDK
type: [思考]
---
# 接入
- Vue 
	- 指令 -> 解析短指令 -> 组合信息组 -> 上报
	- vue-router 封装 -> router.afterEach 中收集.
- js
	- js 方法 -> 直接调用
	- 路由变化 -> 调用js方法
- 小程序
	- 事件 -> 调用js方法
	- 路由 -> 小程序跳转,使用自己封装的路由,在这里面做了调用.
# 上报类型
- 事件 : 点击,聚焦,曝光,失焦,鼠标移入 -> 立即上报 
- 心跳 : 
	- 页面活动发送,页面无活动不发送 -> 判断失活 : hasFocus , visibilityState 来判断
- 阅读时长:
	- 根据滚动条位置,来判定用户在区域停留时间,形成热区数据进行上传.
- 用户信息
	- 用户信息 : userHash playhash
	- 设备值 : IP , 机型 , 浏览器信息
	- 微信: 微信授权
- 页面 PV , UV , 足迹
# 信息展示
- 微信分享信息 -> 力导向图  (D3)
- 事件信息 -> 列表 , 统计
- 用户足迹, 特定需求 -> 流程图

